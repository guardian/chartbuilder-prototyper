"use strict";function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,n=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return n=e.done,e},e:function(e){l=!0,o=e},f:function(){try{n||null==a.return||a.return()}finally{if(l)throw o}}}}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_dataTools=_interopRequireDefault(require("./dataTools")),_colorscale=_interopRequireDefault(require("./shared/colorscale")),table=function(){function e(r){(0,_classCallCheck2.default)(this,e);var t=(d3.select("#graphicContainer"),r.sheets.data),a=(r.sheets.template,r.sheets.options),o=(r.sheets.key,_dataTools.default.getColorDomainRangeMax(a)),n=o.colorDomain,l=o.colorRange,i=o.colorMax;this.colors=new _colorscale.default({type:"linear",domain:n,colors:l,divisor:i}),this.big(t),this.small(t)}return(0,_createClass2.default)(e,[{key:"big",value:function(e){var r=this,t=document.querySelector("#big-table"),a=Object.keys(e[0]);!function(e,r){var t,a=e.createTHead(),o=a.insertRow(),n=_createForOfIteratorHelper(r);try{for(n.s();!(t=n.n()).done;){var l=t.value,i=document.createElement("th");i.classList.add("column-header");var s=document.createTextNode(l);i.appendChild(s),o.appendChild(i)}}catch(e){n.e(e)}finally{n.f()}}(t,a),function(e,t){var a,o=_createForOfIteratorHelper(t);try{for(o.s();!(a=o.n()).done;){var n=a.value,l=e.insertRow();for(var i in n){var s=l.insertCell(),c=document.createTextNode(n[i]);s.appendChild(c),s.style.backgroundColor=r.colors.get(n[i])}}}catch(e){o.e(e)}finally{o.f()}}(t,e)}},{key:"small",value:function(e){var r=this,t=Object.keys(e[0]),a=document.querySelector("#small-table");!function(e,a){var o,n=_createForOfIteratorHelper(a);try{for(n.s();!(o=n.n()).done;){var l=o.value,i=e.insertRow(),s=document.createElement("th");s.colSpan="2",s.classList.add("st-head-row"),s.innerHTML=l[t[0]],i.appendChild(s);for(var c=1;c<t.length;c++){var u=e.insertRow(),d=u.insertCell();d.classList.add("st-key");var f=document.createTextNode(t[c]);d.appendChild(f);var p=u.insertCell();p.classList.add("st-val");var y=document.createTextNode(l[t[c]]);p.appendChild(y),p.style.backgroundColor=r.colors.get(l[t[c]])}}}catch(e){n.e(e)}finally{n.f()}}(a,e)}}]),e}();exports.default=table;